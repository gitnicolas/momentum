!function (t, o) {
	"function" == typeof define && define.amd ? define(o) : "object" == typeof module && "object" == typeof exports ? module.exports = o() : t.Momentum = o()
}(this, function () {
	"use strict";
	function t(t, o) {
		var e = this.scrollLeftMax, i = this.scrollTopMax;
		e && (t > e ? (this.scrollLeft = 0, this.style.marginLeft = this.initialMargin.left + t - e + "px", this.style.marginRight = this.initialMargin.right + e - t + "px") : 0 > t ? (this.scrollLeft = e, this.style.marginRight = this.initialMargin.right - t + "px", this.style.marginLeft = this.initialMargin.left + t + "px") : (this.style.marginLeft = "initial", this.style.marginRight = "initial", this.scrollLeft = e - t)), i && (o > i ? (this.scrollTop = 0, this.style.marginTop = this.initialMargin.top + o - i + "px", this.style.marginBottom = this.initialMargin.bottom + i - o + "px") : 0 > o ? (this.scrollTop = i, this.style.marginBottom = this.initialMargin.bottom - o + "px", this.style.marginTop = this.initialMargin.top + o + "px") : (this.style.marginTop = "initial", this.style.marginBottom = "initial", this.scrollTop = i - o))
	}

	function o(e) {
		function i(t, o) {
			if (!(t instanceof o))throw new TypeError("Momentum: Class called as a function")
		}

		function n(t, o) {
			if ("number" != typeof t)throw new Error("Momentum: " + o + " not a number")
		}

		function r(t, o) {
			if ("object" != typeof t)throw new Error("Momentum: " + o + " not an object")
		}

		function l(t, o) {
			if ("boolean" != typeof t)throw new Error("Momentum: " + o + " not a boolean")
		}

		function s() {
			d.call(f, x.x, x.y)
		}

		function a(t) {
			t.preventDefault(), E || (E = !0, window.clearTimeout(B), B = window.setTimeout(function () {
				R = !1
			}, 2e3), R || (R = !0, u()), L && (f.scrollLeftMax = f.scrollWidth - f.offsetWidth, f.scrollTopMax = f.scrollHeight - f.offsetHeight), M && (v.right = f.scrollLeftMax, v.bottom = f.scrollTopMax, x.x = v.right - f.scrollLeft, x.y = v.bottom - f.scrollTop), C.x = k.x = t.clientX, C.y = k.y = t.clientY, document.addEventListener("mouseup", c), document.addEventListener("mousemove", m))
		}

		function c(t) {
			t.preventDefault(), E && (E = !1, document.removeEventListener("mouseup", c), document.removeEventListener("mousemove", m))
		}

		function m(t) {
			t.preventDefault(), E && (k.x = t.clientX, k.y = t.clientY)
		}

		function u() {
			E ? (H.x = (k.x - C.x) * h, H.y = (k.y - C.y) * h, C.x = k.x, C.y = k.y, x.x += H.x, x.y += H.y) : (x.x += H.x, x.y += H.y, H.x *= g, H.y *= g), void 0 !== v.left && x.x <= v.left ? b ? H.x = (v.left - x.x) * y : (x.x = v.left, H.x *= w ? -p : 0) : void 0 !== v.right && x.x >= v.right && (b ? H.x = (v.right - x.x) * y : (x.x = v.right, H.x *= w ? -p : 0)), void 0 !== v.top && x.y <= v.top ? b ? H.y = (v.top - x.y) * y : (x.y = v.top, H.y *= w ? -p : 0) : void 0 !== v.bottom && x.y >= v.bottom && (b ? H.y = (v.bottom - x.y) * y : (x.y = v.bottom, H.y *= w ? -p : 0)), s(), T && R && N(u)
		}

		var f = void 0 === e.element ? document : e.element, d = void 0 === e.callback ? t : e.callback, h = void 0 === e.multiplier ? 1 : e.multiplier, g = void 0 === e.friction ? .92 : e.friction, y = void 0 === e.elasticity ? .4 : e.elasticity, p = void 0 === e.reaction ? .2 : e.reaction, x = void 0 === e.initial ? {
			x: void 0,
			y: void 0
		} : e.initial, v = void 0 === e.range ? {
			left: void 0,
			right: void 0,
			top: void 0,
			bottom: void 0
		} : e.range, b = void 0 === e.stretch ? !0 : e.stretch, w = void 0 === e.bounce ? !1 : e.bounce, M = void 0 === e.auto ? !0 : e.auto, L = !0, T = !1, E = !1, R = !1, B = 0, k = {
			x: 0,
			y: 0
		}, C = {x: 0, y: 0}, H = {x: 0, y: 0}, N = function () {
			return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || function (t) {
					window.setTimeout(t, 1e3 / 60)
				}
		}();
		!function (t) {
			if (i(t, o), !(f instanceof HTMLElement))throw new Error("Momentum: HTML element not found");
			if ("function" != typeof d)throw new Error("Momentum: Callback function not defined");
			n(h, "Multiplier"), n(g, "Friction"), n(y, "Elasticity"), n(p, "Reaction"), r(x, "Offset"), r(v, "Range"), l(b, "Stretch"), l(w, "Bounce"), void 0 !== v.left && n(v.left, "Range Left"), void 0 !== v.right && n(v.right, "Range Right"), void 0 !== v.top && n(v.top, "Range Top"), void 0 !== v.bottom && n(v.bottom, "Range Bottom"), void 0 !== x.x && n(x.x, "Offset X"), void 0 !== x.y && n(x.y, "Offset Y")
		}(this), function () {
			L = "number" != typeof f.scrollLeftMax || "number" != typeof f.scrollTopMax, L && (f.scrollLeftMax = f.scrollWidth - f.offsetWidth, f.scrollTopMax = f.scrollHeight - f.offsetHeight), M ? (v.left = 0, v.right = f.scrollLeftMax, v.top = 0, v.bottom = f.scrollTopMax, void 0 === x.x && (x.x = v.right - f.scrollLeft), void 0 === x.y && (x.y = v.bottom - f.scrollTop), f.initialMargin = {
				left: Number(/[-.\d]+/.exec(window.getComputedStyle(f).marginLeft)[0]),
				right: Number(/[-.\d]+/.exec(window.getComputedStyle(f).marginRight)[0]),
				top: Number(/[-.\d]+/.exec(window.getComputedStyle(f).marginTop)[0]),
				bottom: Number(/[-.\d]+/.exec(window.getComputedStyle(f).marginBottom)[0])
			}) : (void 0 === x.x && (x.x = 0), void 0 === x.y && (x.y = 0))
		}(), this.start = function () {
			T || (T = !0, f.addEventListener("mousedown", a))
		}, this.stop = function () {
			T && (T = !1, f.removeEventListener("mousedown", a))
		}, this.stop(), s(), this.start()
	}

	function e() {
		return document.head || document.getElementsByTagName("head")[0]
	}

	function i() {
		return /iPad|iPhone|iPod|Android|Linux arm|BlackBerry|WinCE|Pocket/i.test(navigator.platform)
	}

	function n() {
		var t, n, r = e(), a = r.getElementsByTagName("style");
		if (t = a.length, t ? (n = a[t - 1], n.innerHTML = n.innerHTML + "\n\n" + s) : (n = document.createElement("style"), n.innerHTML = s, r.appendChild(n)), !i()) {
			var c = document.querySelectorAll(l);
			t = c.length;
			var m, u;
			for (m = 0; t > m; m++)u = c[m], u.momentum = new o({element: u})
		}
	}

	var r = function () {
		var t = document.getElementsByTagName("script"), o = t[t.length - 1].src;
		return o || (o = document.URL), o.substring(0, o.lastIndexOf("/") + 1)
	}(), l = ".overflow-scrolling-touch", s = "	" + l + " {\n		overflow: hidden;\n		-webkit-overflow-scrolling: touch;\n		cursor: url(" + r + "cursors/openhand.cur), move;\n		cursor: -webkit-grab;\n		cursor: -moz-grab;\n		cursor: grab;\n	}\n\n	" + l + ":active, " + l + " :active {\n		cursor: url(" + r + "cursors/closedhand.cur), move;\n		cursor: -webkit-grabbing;\n		cursor: -moz-grabbing;\n		cursor: grabbing;\n	}\n";
	return document.addEventListener("DOMContentLoaded", n), o
});
